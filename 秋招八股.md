# 秋招八股



```
消息队列的原理
消息队列的架构
怎么保证顺序消费
为什么redis用跳表不用红黑树不用b➕树
为什么hashmap用红黑树不用其他两个
为什么数据库用b➕树不用其他两个

数组和链表，数组扩容
数组结构
== 和 equals
equals和hashcode
浮点数相等是相等吗
创建线程方法、Runnable、Callbnable区别
Spring IOC怎么设计
mysql存储引擎、B+树
redis分布式锁这么做
排序算法、哪些稳定

①jvm的内存组成 ②内存溢出、内存泄露。③jvm和jre的区别 ④C++和java的区别
1.讲讲List的底层数据结构
2.ArrayList的容量和扩容机制了解吗
3.讲讲map的底层数据结构和增删的逻辑
4.红黑树相比于链表有哪些优点
5.多线程中，除了synchronized关键字，还有哪些能确保线程安全
6.操作系统中，线程和进程有什么异同点
7.java的内存分配是什么样的，哪些在堆上，哪些在栈上？
8.讲讲常见的垃圾回收算法和垃圾回收器
9.除了socket，还有哪些进程之间的通信方式？
10.多线程环境下，对于共享内存有什么机制确保线程安全
11.讲讲对线程池的理解，还有哪些数据结构和机制能实现？
12.高并发环境下，设计线程池参数时你是怎么考虑的
13.讲讲http1.0，http1.1，http2以及http3的发展以及变化
14.https是如何建立安全的链接，整个流程？
15.对称加密和非对称加密的原理？都有哪些算法实现
16.redis的单线程体现在哪，为什么单线程但效率很高
17.讲讲mysql的innoDB引擎
18.你的项目中有哪些难点，怎么解决的，有多少人参与
19.结合项目，讲讲spring，redis，mysql，rabbitMQ这几个组合起来的运行架构和流程
20.如何保证数据一致性？redis宕机了怎么办，高并发下如何处理数据
21.rebbitMQ怎么确保消息被消费？消费失败了怎么办
22.讲讲AOP的原理，在项目中怎么实现的

```



### Redis的数据结构

redis常见的数据类型有：String、hash、list、set、zset、bitmap、hapyloglog、geo

每种数据类型其实本质上在底层是不区分的，redis的底层有一个redisObject的概念，在redisObject的结构体数组中，有个type的字段，来表示不同的数据类型。还有一个ptr的指针，指向真正存储数据的地方

String的底层存储数据结构有三种：

- int 对于长度小于64的long整数，ptr指针上直接存储
- embstr，对于长度小于44的字符串，直接存在ptr指针的下一个地址
- sds，简单都动态字符串，其中有个已经分配的大小，字符串的长度，ptr指针远程指向

Hash的底层存储：压缩列表和hashTable（字典）

- 压缩列表：ziplist，本质是字节数组，通过记录entry的长度来确定下一个entry的位置
- hashTable，最底层存储key-value是哈希表节点，多个哈希表表节点组成哈希表，hashTable是对哈希表的封装，一个字典对应有两个哈希表，一个存储，一个用来rehash

List的底层存储：quickList

- quickList = ziplist + LinkedList

Set的底层存储：

- intset
- hashTable

Zset的底层存储

- ziplist
- skipList，跳表的底层通过类似二分查找建立冗余索引，方便查找

### MySQL索引的数据结构

mysql的索引：

- 索引的列数：单列索引、联合索引
- 索引的物理存储：聚簇索引和非聚簇索引
- 索引的数据结构：哈希索引、全文索引、b+树索引
- 索引的字段特性：主键索引、唯一索引、普通索引、联合索引

聚簇索引和非聚簇索引

- 回表
- 是否存储在一起
- 举例子说明，InnoDB的主键索引和其他

为什么使用B+树索引：

- 减少磁盘的IO
- 树的层次尽可能的低，树需要平衡+多叉
- 还要支持范围的查找

### 链表和数组的扩容

### == 和 equals

### 浮点数相等

### 创建线程的方法以及区别

### SpringIOC创建Bean的过程

### MySQL的存储引擎

### Redis的分布式锁

### 常见的排序算法-时间复杂度和稳定性

### jvm的内存组成 

### 内存溢出、内存泄露。

### jvm和jre的区别 

### C++和java的区别

### 消息队列的原理

### 如何保证顺序消费



### 设计模式和扩展点





